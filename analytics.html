<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JSON to Table</title>
  <style>
    body { font-family: sans-serif; padding: 20px; background: #fafafa; }
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ccc; padding: 6px 10px; text-align: left; }
    th { background: #eee; }
  </style>
</head>
<body>

<h2>JSON â†’ Table</h2>
<textarea id="input" style="width:100%;height:200px;">
{
  "data": {
    "getAnalyticsData": {
      "data": {
        "headers": ["CMP_ELIGIBLE","CMP_SHOWN","country","countrySubdivision","date","DENY_ALL","DENY_ALL_EXPLICIT_PERCENTAGE","DENY_ALL_IMPLICIT_PERCENTAGE","DENY_ALL_RATE","DENY_ALL_TOTAL","devicetype"],
        "rows": [
          ["0","2","US","TX","2025-10-25","0","0","0","0","0","Desktop"],
          ["12","2","US","ID","2025-10-25","0","0","0","0","0","Desktop"],
          ["0","2","US","CO","2025-10-25","0","0","0","0","0","Desktop"],
          ["0","2","US","CA","2025-10-27","0","0","0","0","0","Desktop"]
        ]
      }
    }
  }
}
</textarea>
<br><br>
<button id="render">Render Table</button>

<div id="output" style="margin-top:20px;"></div>

<script>
document.getElementById('render').onclick = function() {
  const raw = document.getElementById('input').value;
  const out = document.getElementById('output');
  out.innerHTML = '';
  try {
    const json = JSON.parse(raw);
    const data = json.data.getAnalyticsData.data;
    const headers = data.headers;
    const rows = data.rows;

    let html = '<table><thead><tr>' + headers.map(h => `<th>${h}</th>`).join('') + '</tr></thead><tbody>';
    html += rows.map(r => '<tr>' + r.map(c => `<td>${c}</td>`).join('') + '</tr>').join('');
    html += '</tbody></table>';
    out.innerHTML = html;
  } catch (e) {
    out.innerHTML = `<pre style="color:red;">${e}</pre>`;
  }
};
</script>

</body>
</html>
